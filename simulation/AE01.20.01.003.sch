EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "ZR431 Optocoupling voltage feedback"
Date "2020-04-13"
Rev "1"
Comp "astroelectronic@"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Wire Wire Line
	5200 4300 5200 4600
Wire Wire Line
	5400 4100 6600 4100
Wire Wire Line
	7050 4600 7050 4800
Wire Wire Line
	7050 3900 7050 4100
Connection ~ 7050 4100
Text Label 5750 4100 0    50   ~ 0
VREF
Wire Wire Line
	4400 2450 5500 2450
Wire Wire Line
	7050 3600 7050 2450
Connection ~ 7050 2450
Wire Wire Line
	4400 2650 5200 2650
Wire Wire Line
	5200 2650 5200 2850
Wire Wire Line
	3800 2450 3700 2450
Wire Wire Line
	3600 3350 3600 3150
Wire Wire Line
	2850 2650 3600 2650
Wire Wire Line
	5700 3400 5200 3400
Connection ~ 5200 3400
Wire Wire Line
	6000 3400 6600 3400
Wire Wire Line
	6600 3400 6600 3600
Wire Wire Line
	6600 3900 6600 4100
Connection ~ 6600 4100
Text Label 4650 2650 0    50   ~ 0
K
Connection ~ 3600 2650
Text Label 3050 2650 0    50   ~ 0
FEEDBACK
Text Label 5200 3750 1    50   ~ 0
VZ
Text Label 6200 3400 0    50   ~ 0
COMP
Text Label 8600 2450 0    50   ~ 0
VOUT
Wire Wire Line
	6600 7250 6600 7150
Wire Wire Line
	6100 7250 6100 7150
Wire Wire Line
	3600 2850 3600 2650
Wire Wire Line
	3700 2450 3700 2350
Wire Wire Line
	4750 7250 4750 7150
Wire Wire Line
	4750 6650 4750 6750
Wire Wire Line
	3150 7250 3150 7150
Wire Wire Line
	3150 6650 3150 6750
Wire Wire Line
	5650 7250 5650 7150
Wire Wire Line
	4450 1450 3700 1450
Wire Wire Line
	3700 1450 3700 1350
Wire Wire Line
	4750 1450 5500 1450
Wire Wire Line
	5500 1450 5500 2450
Connection ~ 5500 2450
Wire Wire Line
	8200 2650 8200 2450
Connection ~ 8200 2450
Wire Wire Line
	8200 3150 8200 2950
Wire Wire Line
	9100 2450 9100 2650
Wire Wire Line
	9100 3150 9100 2950
Wire Wire Line
	7050 4100 7050 4300
Wire Wire Line
	7050 2450 8200 2450
Wire Wire Line
	5200 3400 5200 3900
Wire Wire Line
	6600 4100 7050 4100
Wire Wire Line
	3600 2650 3800 2650
Wire Wire Line
	5500 2450 7050 2450
Wire Wire Line
	8200 2450 9100 2450
$Comp
L pspice:0 #GND02
U 1 1 5E9431A7
P 3600 3350
F 0 "#GND02" H 3600 3250 50  0001 C CNN
F 1 "0" H 3600 3227 50  0000 C CNN
F 2 "" H 3600 3350 50  0001 C CNN
F 3 "~" H 3600 3350 50  0001 C CNN
	1    3600 3350
	1    0    0    -1  
$EndComp
$Comp
L pspice:0 #GND04
U 1 1 5E9436DC
P 5200 4600
F 0 "#GND04" H 5200 4500 50  0001 C CNN
F 1 "0" H 5200 4477 50  0000 C CNN
F 2 "" H 5200 4600 50  0001 C CNN
F 3 "~" H 5200 4600 50  0001 C CNN
	1    5200 4600
	1    0    0    -1  
$EndComp
$Comp
L pspice:0 #GND06
U 1 1 5E943C76
P 7050 4800
F 0 "#GND06" H 7050 4700 50  0001 C CNN
F 1 "0" H 7050 4677 50  0000 C CNN
F 2 "" H 7050 4800 50  0001 C CNN
F 3 "~" H 7050 4800 50  0001 C CNN
	1    7050 4800
	1    0    0    -1  
$EndComp
$Comp
L pspice:0 #GND07
U 1 1 5E94410D
P 8200 3150
F 0 "#GND07" H 8200 3050 50  0001 C CNN
F 1 "0" H 8200 3027 50  0000 C CNN
F 2 "" H 8200 3150 50  0001 C CNN
F 3 "~" H 8200 3150 50  0001 C CNN
	1    8200 3150
	1    0    0    -1  
$EndComp
$Comp
L pspice:0 #GND08
U 1 1 5E9445E2
P 9100 3150
F 0 "#GND08" H 9100 3050 50  0001 C CNN
F 1 "0" H 9100 3027 50  0000 C CNN
F 2 "" H 9100 3150 50  0001 C CNN
F 3 "~" H 9100 3150 50  0001 C CNN
	1    9100 3150
	1    0    0    -1  
$EndComp
$Comp
L pspice:0 #GND01
U 1 1 5E94499F
P 3150 7250
F 0 "#GND01" H 3150 7150 50  0001 C CNN
F 1 "0" H 3150 7127 50  0000 C CNN
F 2 "" H 3150 7250 50  0001 C CNN
F 3 "~" H 3150 7250 50  0001 C CNN
	1    3150 7250
	1    0    0    -1  
$EndComp
$Comp
L pspice:0 #GND03
U 1 1 5E945463
P 4750 7250
F 0 "#GND03" H 4750 7150 50  0001 C CNN
F 1 "0" H 4750 7127 50  0000 C CNN
F 2 "" H 4750 7250 50  0001 C CNN
F 3 "~" H 4750 7250 50  0001 C CNN
	1    4750 7250
	1    0    0    -1  
$EndComp
$Comp
L pspice:0 #GND05
U 1 1 5E945929
P 6600 7250
F 0 "#GND05" H 6600 7150 50  0001 C CNN
F 1 "0" H 6600 7127 50  0000 C CNN
F 2 "" H 6600 7250 50  0001 C CNN
F 3 "~" H 6600 7250 50  0001 C CNN
	1    6600 7250
	1    0    0    -1  
$EndComp
$Comp
L power:PWR_FLAG #FLG01
U 1 1 5E945FEF
P 5650 7250
F 0 "#FLG01" H 5650 7325 50  0001 C CNN
F 1 "PWR_FLAG" H 5650 7423 50  0000 C CNN
F 2 "" H 5650 7250 50  0001 C CNN
F 3 "~" H 5650 7250 50  0001 C CNN
	1    5650 7250
	-1   0    0    1   
$EndComp
$Comp
L power:PWR_FLAG #FLG02
U 1 1 5E94654D
P 6100 7250
F 0 "#FLG02" H 6100 7325 50  0001 C CNN
F 1 "PWR_FLAG" H 6100 7423 50  0000 C CNN
F 2 "" H 6100 7250 50  0001 C CNN
F 3 "~" H 6100 7250 50  0001 C CNN
	1    6100 7250
	-1   0    0    1   
$EndComp
$Comp
L power:VCC #PWR01
U 1 1 5E946BAB
P 3150 6650
F 0 "#PWR01" H 3150 6500 50  0001 C CNN
F 1 "VCC" H 3167 6823 50  0000 C CNN
F 2 "" H 3150 6650 50  0001 C CNN
F 3 "" H 3150 6650 50  0001 C CNN
	1    3150 6650
	1    0    0    -1  
$EndComp
$Comp
L power:VDD #PWR04
U 1 1 5E94712B
P 4750 6650
F 0 "#PWR04" H 4750 6500 50  0001 C CNN
F 1 "VDD" H 4767 6823 50  0000 C CNN
F 2 "" H 4750 6650 50  0001 C CNN
F 3 "" H 4750 6650 50  0001 C CNN
	1    4750 6650
	1    0    0    -1  
$EndComp
$Comp
L power:VCC #PWR05
U 1 1 5E947DDB
P 5650 7150
F 0 "#PWR05" H 5650 7000 50  0001 C CNN
F 1 "VCC" H 5667 7323 50  0000 C CNN
F 2 "" H 5650 7150 50  0001 C CNN
F 3 "" H 5650 7150 50  0001 C CNN
	1    5650 7150
	1    0    0    -1  
$EndComp
$Comp
L power:VDD #PWR06
U 1 1 5E948489
P 6100 7150
F 0 "#PWR06" H 6100 7000 50  0001 C CNN
F 1 "VDD" H 6117 7323 50  0000 C CNN
F 2 "" H 6100 7150 50  0001 C CNN
F 3 "" H 6100 7150 50  0001 C CNN
	1    6100 7150
	1    0    0    -1  
$EndComp
$Comp
L power:PWR_FLAG #FLG03
U 1 1 5E9488F8
P 6600 7150
F 0 "#FLG03" H 6600 7225 50  0001 C CNN
F 1 "PWR_FLAG" H 6600 7323 50  0000 C CNN
F 2 "" H 6600 7150 50  0001 C CNN
F 3 "~" H 6600 7150 50  0001 C CNN
	1    6600 7150
	1    0    0    -1  
$EndComp
$Comp
L power:VDD #PWR02
U 1 1 5E949B54
P 3700 2350
F 0 "#PWR02" H 3700 2200 50  0001 C CNN
F 1 "VDD" H 3717 2523 50  0000 C CNN
F 2 "" H 3700 2350 50  0001 C CNN
F 3 "" H 3700 2350 50  0001 C CNN
	1    3700 2350
	1    0    0    -1  
$EndComp
$Comp
L power:VCC #PWR03
U 1 1 5E94A565
P 3700 1350
F 0 "#PWR03" H 3700 1200 50  0001 C CNN
F 1 "VCC" H 3717 1523 50  0000 C CNN
F 2 "" H 3700 1350 50  0001 C CNN
F 3 "" H 3700 1350 50  0001 C CNN
	1    3700 1350
	1    0    0    -1  
$EndComp
$Comp
L Device:R R1
U 1 1 5E94AD40
P 3600 3000
F 0 "R1" H 3670 3046 50  0000 L CNN
F 1 "470" H 3670 2955 50  0000 L CNN
F 2 "" V 3530 3000 50  0001 C CNN
F 3 "~" H 3600 3000 50  0001 C CNN
F 4 "R" H 3600 3000 50  0001 C CNN "Spice_Primitive"
F 5 "470" H 3600 3000 50  0001 C CNN "Spice_Model"
F 6 "Y" H 3600 3000 50  0001 C CNN "Spice_Netlist_Enabled"
	1    3600 3000
	1    0    0    -1  
$EndComp
Wire Wire Line
	5200 3150 5200 3400
$Comp
L Device:R R2
U 1 1 5E94B186
P 5200 3000
F 0 "R2" H 5270 3046 50  0000 L CNN
F 1 "200" H 5270 2955 50  0000 L CNN
F 2 "" V 5130 3000 50  0001 C CNN
F 3 "~" H 5200 3000 50  0001 C CNN
F 4 "R" H 5200 3000 50  0001 C CNN "Spice_Primitive"
F 5 "200" H 5200 3000 50  0001 C CNN "Spice_Model"
F 6 "Y" H 5200 3000 50  0001 C CNN "Spice_Netlist_Enabled"
	1    5200 3000
	1    0    0    -1  
$EndComp
$Comp
L Device:R R4
U 1 1 5E94BF93
P 7050 3750
F 0 "R4" H 7120 3796 50  0000 L CNN
F 1 "10k" H 7120 3705 50  0000 L CNN
F 2 "" V 6980 3750 50  0001 C CNN
F 3 "~" H 7050 3750 50  0001 C CNN
F 4 "R" H 7050 3750 50  0001 C CNN "Spice_Primitive"
F 5 "10k" H 7050 3750 50  0001 C CNN "Spice_Model"
F 6 "Y" H 7050 3750 50  0001 C CNN "Spice_Netlist_Enabled"
	1    7050 3750
	1    0    0    -1  
$EndComp
$Comp
L Device:R R5
U 1 1 5E94C5D5
P 7050 4450
F 0 "R5" H 7120 4496 50  0000 L CNN
F 1 "10k" H 7120 4405 50  0000 L CNN
F 2 "" V 6980 4450 50  0001 C CNN
F 3 "~" H 7050 4450 50  0001 C CNN
F 4 "R" H 7050 4450 50  0001 C CNN "Spice_Primitive"
F 5 "10k" H 7050 4450 50  0001 C CNN "Spice_Model"
F 6 "Y" H 7050 4450 50  0001 C CNN "Spice_Netlist_Enabled"
	1    7050 4450
	1    0    0    -1  
$EndComp
$Comp
L Device:R R6
U 1 1 5E94CFC4
P 9100 2800
F 0 "R6" H 9170 2846 50  0000 L CNN
F 1 "100" H 9170 2755 50  0000 L CNN
F 2 "" V 9030 2800 50  0001 C CNN
F 3 "~" H 9100 2800 50  0001 C CNN
F 4 "R" H 9100 2800 50  0001 C CNN "Spice_Primitive"
F 5 "100" H 9100 2800 50  0001 C CNN "Spice_Model"
F 6 "Y" H 9100 2800 50  0001 C CNN "Spice_Netlist_Enabled"
	1    9100 2800
	1    0    0    -1  
$EndComp
$Comp
L Device:C C2
U 1 1 5E94DE20
P 8200 2800
F 0 "C2" H 8315 2846 50  0000 L CNN
F 1 "10u" H 8315 2755 50  0000 L CNN
F 2 "" H 8238 2650 50  0001 C CNN
F 3 "~" H 8200 2800 50  0001 C CNN
F 4 "C" H 8200 2800 50  0001 C CNN "Spice_Primitive"
F 5 "10u" H 8200 2800 50  0001 C CNN "Spice_Model"
F 6 "Y" H 8200 2800 50  0001 C CNN "Spice_Netlist_Enabled"
	1    8200 2800
	1    0    0    -1  
$EndComp
$Comp
L Device:C C1
U 1 1 5E94E560
P 5850 3400
F 0 "C1" V 6102 3400 50  0000 C CNN
F 1 "1n" V 6011 3400 50  0000 C CNN
F 2 "" H 5888 3250 50  0001 C CNN
F 3 "~" H 5850 3400 50  0001 C CNN
F 4 "C" H 5850 3400 50  0001 C CNN "Spice_Primitive"
F 5 "1n" H 5850 3400 50  0001 C CNN "Spice_Model"
F 6 "Y" H 5850 3400 50  0001 C CNN "Spice_Netlist_Enabled"
	1    5850 3400
	0    -1   -1   0   
$EndComp
$Comp
L AE01.17.01.000:ZR431 U2
U 1 1 5E95055C
P 5200 4100
F 0 "U2" H 5121 4146 50  0000 R CNN
F 1 "ZR431" H 5121 4055 50  0000 R CNN
F 2 "" H 5300 3650 50  0001 L BNN
F 3 "~" H 5300 3550 50  0001 L BNN
F 4 "X" H 5200 4100 50  0001 C CNN "Spice_Primitive"
F 5 "ZR431" H 5200 4100 50  0001 C CNN "Spice_Model"
F 6 "Y" H 5200 4100 50  0001 C CNN "Spice_Netlist_Enabled"
F 7 "models/ZR431.spice.txt" H 5200 4100 50  0001 C CNN "Spice_Lib_File"
	1    5200 4100
	1    0    0    -1  
$EndComp
$Comp
L AE01.17.05.000:PS2501A U1
U 1 1 5E951077
P 4100 2550
F 0 "U1" H 4100 2875 50  0000 C CNN
F 1 "PS2501A" H 4100 2784 50  0000 C CNN
F 2 "" H 3900 2350 50  0001 L BIN
F 3 "" H 3900 2750 50  0001 L BNN
F 4 "X" H 4100 2550 50  0001 C CNN "Spice_Primitive"
F 5 "PS2501A" H 4100 2550 50  0001 C CNN "Spice_Model"
F 6 "Y" H 4100 2550 50  0001 C CNN "Spice_Netlist_Enabled"
F 7 "models/ps2501a.lib" H 4100 2550 50  0001 C CNN "Spice_Lib_File"
	1    4100 2550
	-1   0    0    -1  
$EndComp
$Comp
L Simulation_SPICE:DIODE D1
U 1 1 5E952513
P 4600 1450
F 0 "D1" H 4600 1667 50  0000 C CNN
F 1 "DI_B140HB" H 4600 1576 50  0000 C CNN
F 2 "" H 4600 1450 50  0001 C CNN
F 3 "~" H 4600 1450 50  0001 C CNN
F 4 "Y" H 4600 1450 50  0001 L CNN "Spice_Netlist_Enabled"
F 5 "D" H 4600 1450 50  0001 L CNN "Spice_Primitive"
F 6 "DI_B140HB" H 4600 1450 50  0001 C CNN "Spice_Model"
F 7 "models/B140HB.spice.txt" H 4600 1450 50  0001 C CNN "Spice_Lib_File"
	1    4600 1450
	1    0    0    -1  
$EndComp
$Comp
L Device:R R3
U 1 1 5E954FEB
P 6600 3750
F 0 "R3" H 6670 3796 50  0000 L CNN
F 1 "100" H 6670 3705 50  0000 L CNN
F 2 "" V 6530 3750 50  0001 C CNN
F 3 "~" H 6600 3750 50  0001 C CNN
F 4 "R" H 6600 3750 50  0001 C CNN "Spice_Primitive"
F 5 "100" H 6600 3750 50  0001 C CNN "Spice_Model"
F 6 "Y" H 6600 3750 50  0001 C CNN "Spice_Netlist_Enabled"
	1    6600 3750
	1    0    0    -1  
$EndComp
$Comp
L Simulation_SPICE:VPWL V1
U 1 1 5E955AF8
P 3150 6950
F 0 "V1" H 3280 6996 50  0000 L CNN
F 1 "PWL (0 1 1m 5.5 2m 5.5)" H 3280 6905 50  0000 L CNN
F 2 "" H 3150 6950 50  0001 C CNN
F 3 "~" H 3150 6950 50  0001 C CNN
F 4 "Y" H 3150 6950 50  0001 L CNN "Spice_Netlist_Enabled"
F 5 "V" H 3150 6950 50  0001 L CNN "Spice_Primitive"
	1    3150 6950
	1    0    0    -1  
$EndComp
$Comp
L Simulation_SPICE:VDC V2
U 1 1 5E9564C0
P 4750 6950
F 0 "V2" H 4880 6996 50  0000 L CNN
F 1 "5" H 4880 6905 50  0000 L CNN
F 2 "" H 4750 6950 50  0001 C CNN
F 3 "~" H 4750 6950 50  0001 C CNN
F 4 "Y" H 4750 6950 50  0001 L CNN "Spice_Netlist_Enabled"
F 5 "V" H 4750 6950 50  0001 L CNN "Spice_Primitive"
	1    4750 6950
	1    0    0    -1  
$EndComp
$EndSCHEMATC
